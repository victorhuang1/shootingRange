<!doctype html> 
<html> 
<head> 
    <meta charset="utf-8"> 
    <title>shootingRange</title>
    <style type="text/css">
    	*{margin: 0;padding: 0;}
    	#content > div{width: 8px;height: 8px;float: left;background: #ccc;}
    </style> 
</head>
<body>
	<input type="button" name="" value='Start' id='btn'>
	<div id='content'></div>
	<script type="text/javascript">
		var timer = null;
		//  0 0 0  0 0 1 , 0 255 0
		var r = -1,g = 0,b = 0,index= 0;
		btn.onclick = function(){
			clearInterval(timer);
			timer = setInterval(function(){


				r++;
				if(r == 256){
					r = 0;
					g++;
				};

				if(g == 256){
					g=0
					b++;
				}
				if(b == 256){
					clearInterval(timer);
				}
				index++;
				var oDiv = document.createElement('div');
				oDiv.style.backgroundColor = 'rgb('+r+','+g+','+b+')';
				oDiv.index = index;
				content.appendChild(oDiv);
				oDiv.onclick = function(){
					console.log('This is '+this.index+'th element',', current color is '+this.style.backgroundColor);

				}
			},0);
		};


	</script>
</body>
</html>