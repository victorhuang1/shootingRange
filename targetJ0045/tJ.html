<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>shootingRange</title>
<link rel="stylesheet" type="text/css" href="./image/index.css">
<style type="text/css">
	#lottery{margin-top:100px; }
</style>
</head>
<body style="">
<div id="lottery">
<table border="0" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="lottery-unit lottery-unit-0"><img src="./image/gift0.jpg"><div class="mask"></div></td>
<td class="lottery-unit lottery-unit-1"><img src="./image/gift1.jpg"><div class="mask"></div></td>
<td class="lottery-unit lottery-unit-2"><img src="./image/gift2.jpg"><div class="mask"></div></td>
</tr>
<tr>
<td class="lottery-unit lottery-unit-7"><img src="./image/gift7.jpg"><div class="mask"></div></td>
<td class="btn" id='btn'><img src="./image/lottery1.jpg"></td>
<td class="lottery-unit lottery-unit-3"><img src="./image/gift3.jpg"><div class="mask"></div></td>
</tr>
<tr>
<td class="lottery-unit lottery-unit-6"><img src="./image/gift6.jpg"><div class="mask"></div></td>
<td class="lottery-unit lottery-unit-5"><img src="./image/gift5.jpg"><div class="mask"></div></td>
<td class="lottery-unit lottery-unit-4"><img src="./image/gift4.jpg"><div class="mask"></div></td>
</tr>
</tbody></table>
</div>
<script type="text/javascript">
	var allTd = document.getElementsByClassName('lottery-unit');
	var arr = [];
	var index = 0;
	var setTime = 500;// 定时器的时间;
	var Quan = parseInt(Math.random()*30);//最快的时候走的次数
	var f = false;
	for(var i = 0;i < allTd.length;i++){
		arr.push(allTd[i].className);
	};
	function to(){
		setTimeout(function(){
			if(setTime == 550){
				Quan=parseInt(Math.random()*30),setTime = 500,f = false;
				return;
			}

			if(Quan!=0){
				if(setTime == 50){
					Quan-=1;
				}
				else{
					setTime-= 50;
				}
			}
			else{
				setTime+=50;
			}
			
			
			index++;
			if(index == allTd.length)index = 0;
			for(var i = 0;i <allTd.length;i++){
				allTd[i].className  = arr[i];
			};
			document.getElementsByClassName('lottery-unit-'+index)[0].className = 'lottery-unit lottery-unit-'+index+' active';
			to();
		},setTime);
	}
	//console.log(arr);
	btn.onclick = function(){
		if(f)return;
		f=true;
		to();
	};

</script>


</body></html>